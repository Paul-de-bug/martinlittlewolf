<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Martin Littlewolf</title>
    <link rel="stylesheet" href="./styles/build.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Abhaya+Libre&display=swap" rel="stylesheet">
</head>

<body class="font-abhaya">

    <header class="flex flex-col items-center justify-center border-b-2 border-black pb-2 relative z-10">
       <!--<div class="flex rounded-full items-center leading-tight h-16 text-2xl text-center justify-center py-2 bg-customGold hover:bg-gray-300 border-2 border-black transition ease-in duration-300 font-bold mt-8 w-1/6 absolute top-4 right-4" id="widgetButton">Free Puzzles</div>-->
      
            <img src="./assets/logoblack.png" width="300" alt="Description of Image" class="mb-4">
    
        <div class="navigation flex flex-col-4 -mt-12 w-full relative">

              <a href="solutions9000.html"><button class="text-3xl md:mr-16 mr-4 hover:font-bold hover:underline transition ease-in duration-300 w-1/4 absolute top-4 items-center"> <span style="vertical-align: middle;">&larr;</span><span>Back</span></button></a>
      
            <button id="prevBtn" class="hidden text-3xl md:mr-16 mr-4 hover:font-bold hover:underline transition ease-in duration-300 w-1/4">Previous</button>

            <aside class="relative w-full mb-4 mx-auto border border-black justify-center md:w-2/4">
                <select id="imageDropdown" class="appearance-none bg-customGray p-4 pr-12 w-full text-2xl md:text-3xl hover:bg-gray-300 transition ease-in duration-300 cursor-pointer outline-none">
                </select>
                <div class="absolute top-1/2 right-4 transform -translate-y-1/2">
                    <img src="./assets/dropdown-svgrepo-com.svg" alt="Dropdown Arrow" class="h-6 w-6">
                </div>
            </aside>

            <button id="nextBtn" class="hidden text-3xl md:ml-16 ml-4 hover:font-bold hover:underline transition ease-in duration-300 w-1/4">Next</button>
        </div>
       
    </header>    

  
    <div id="printIcon" class="hidden flex justify-center md:justify-end md:mr-10 mt-4"> 
        <button onclick="printCurrentImage()" class="flex flex-col text-2xl items-center font-bold relative z-10 w-16">
            <img src="./assets/printer-svgrepo-com.svg" width="" alt="Description of Image" class="">
            <h3 class="">PRINT</h3>
        </button>
       
    </div>


    <main class="mx-auto flex justify-center items-center">
        

        <div class="container flex">    
            <div class="slideshow -my-12 md:-my-48 lg:-my-56 z-0 mx-auto">
                <img src="" alt="Slideshow Image" id="slideshowImage" class="relative z-0">
            </div>
        </div>

    </main>

    <!-- Widget Button -->
 <!-- <div class="hidden" id="widgetButton">Free Puzzles</div> -->

<!-- Overlay -->
<div id="overlay" class="hidden fixed inset-0 bg-black opacity-50 z-10"></div>

<!-- Popup Container 
<div id="popupContainer" class="hidden">

    <div id="closePopup" class="font-bold hover:bg-gray-300 border border-lightGray cursor-pointer absolute text-4xl top-4 right-4">&times;</div>

    <form>
        <main class="m-12 flex justify-center items-center">

            <div class="md:flex">
               
    
                <div class="md:ml-12 w-full md:w-1/2">
              
                    <section class="max-w-xl mt-8 md:mt-12">
                        <h2 class="text-3xl font-bold text-center mb-4">Free Puzzles</h2>
                        <p class="text-xl mb-4">Would you like some free puzzles? By signing up to my newsletter you'll get a PDF with 50 word search puzzles for free - which you can print at home. You'll also keep informed about any new book I release. And that's the only time I will send you a mail. You have my no spam guarantee. And of course you can unsubscribe at any time. </p>
                    </section>
    
          
                    <section class="">
                        <p class="flex items-center justify-between w-full">                
                            <span class="w-full mr-4 p-0 justify-left"> <div id="ff-compose"></div></span>
                        </p>
                    </section>

                    <section class="flex justify-center">
                        <p class="flex items-center">                
                            <h2 id="closebutton" class="cursor-pointer text-xl font-bold text-center justify-center items-center mb-4 bg-customGray w-1/6 rounded-full hover:bg-gray-300 border border-lightGray">CLOSE</h2>
                        </p>
                    </section>

                </div>
    
                <div class="w-full md:w-1/2">
                
                    <section class="pb-2">
                        <img src="./assets/Jesusbook.png" width="600" alt="Description of Image" class="mb-4">
                    </section>
                </div>
    
            </div>
    
        </main>
    </form>
</div>-->

    <footer class="border-t-2 border-black pb-2 z-10 relative mt-8">
        <p class="text-center mt-10">Â© 2023 by Martin Littlewolf</p>
    </footer>
   
    <script async defer src="https://formfacade.com/include/111091234421743702315/form/1FAIpQLSe_3JHQt3jqD5AAh1LyLTQ6Le2gCXJdj20hgW2DxfyrDm9pkw/clean.js?div=ff-compose"></script>



    <script>
        const imageCount = 224; // Total number of images excluding the splash page
        let currentImage = 0;  // Start from the splash page (0)

        // Function to update the displayed image
        function updateImage() {
            const imgElement = document.getElementById('slideshowImage');
            imgElement.src = `./assets/solutions90002026b/${currentImage}.png`;

            const printerIcon = document.getElementById("printIcon");
            if (currentImage === 0) {
                printerIcon.classList.add("hidden");
            } else {
                printerIcon.classList.remove("hidden");
            }
        }

        function populateDropdown() {
            const dropdown = document.getElementById('imageDropdown');
            
            // Create the default "Select" option
            const defaultOption = document.createElement('option');
            defaultOption.value = 0; // Set value to 0 for the splash page
            defaultOption.textContent = "Select";
            defaultOption.selected = true; // Set as default
            dropdown.appendChild(defaultOption);

            // Populate the dropdown with the correct values
            for (let i = 1; i <= imageCount; i++) {
                const option = document.createElement('option');
                option.value = i;  // Image number matches the dropdown value
                option.textContent = `Puzzle ${i}`;
                dropdown.appendChild(option);
            }
        }



// Handle the Previous and Next buttons
document.getElementById('prevBtn').onclick = function() {
    if (currentImage > 1) {
        currentImage--;
        updateImage();
        // Update dropdown value
        document.getElementById('imageDropdown').value = currentImage;
    }
};

document.getElementById('nextBtn').onclick = function() {
    if (currentImage < imageCount + 1) { // +1 to account for the splash page
        currentImage++;
        updateImage();
        // Update dropdown value
        document.getElementById('imageDropdown').value = currentImage;
    }
    
};

// Update the image when a new dropdown option is selected
document.getElementById('imageDropdown').addEventListener('change', function() {
    currentImage = parseInt(this.value);
    updateImage();
});



// Initial setup
window.onload = function() {
    populateDropdown();
    updateImage();
};

// Print setup

function printCurrentImage() {
    const imageSrc = document.getElementById('slideshowImage').src;

    const printWindow = window.open('', '_blank');
    printWindow.document.write('<html><head><title>Print</title></head><body>');
    printWindow.document.write('<img src="' + imageSrc + '" width="100%">');
    printWindow.document.write('</body></html>');
    printWindow.document.close();
    
    // Use setTimeout to ensure content is fully loaded before invoking print
    setTimeout(function() {
        printWindow.print();
    }, 500);
}

document.getElementById("customForm").addEventListener("submit", function(event) {
    event.preventDefault();

    var formData = new FormData(event.target);
    var googleFormURL = event.target.action;
    
    fetch(googleFormURL, {
        method: 'POST',
        body: formData,
        mode: 'no-cors'  // Important since Google Forms doesn't support CORS
    })
    .then(response => {
        // Hide the form
        document.getElementById("customForm").style.display = "none";
        
        // Display a thank you message
        var thankYouMsg = document.createElement("p");
        thankYouMsg.innerHTML = "Thank you for submitting!";
        document.getElementById("customFormContainer").appendChild(thankYouMsg);
    })
    .catch(error => {
        console.error('Error:', error);
    });
});

document.getElementById('closePopup').addEventListener('click', function() {
    var popup = document.getElementById('popupContainer');
    popup.classList.add('hidden');
});
</script>


    <script>
               document.getElementById('widgetButton').addEventListener('click', function() {
                    var popup = document.getElementById('popupContainer');
                    var overlay = document.getElementById('overlay');
                    if (popup.classList.contains('hidden')) {
                        popup.classList.remove('hidden');
                        overlay.classList.remove('hidden'); // show the overlay
                    } else {
                        popup.classList.add('hidden');
                        overlay.classList.add('hidden'); // hide the overlay
                    }
                });


                document.getElementById('closePopup').addEventListener('click', function() {
                    var popup = document.getElementById('popupContainer');
                    var overlay = document.getElementById('overlay');
                    popup.classList.add('hidden');
                    overlay.classList.add('hidden'); // hide the overlay
                });

                document.getElementById('closebutton').addEventListener('click', function() {
                    var popup = document.getElementById('popupContainer');
                    var widget = document.getElementById('widgetButton');
                    var overlay = document.getElementById('overlay');
                    popup.classList.add('hiddenbutton');
                    widget.classList.add('hiddenbutton');
                    overlay.classList.add('hidden');
                });

                document.getElementById('overlay').addEventListener('click', function() {
                    var popup = document.getElementById('popupContainer');
                    var overlay = document.getElementById('overlay');
                    popup.classList.add('hidden');
                    overlay.classList.add('hidden');
});



    </script>

</body>

</html>
